[gd_scene load_steps=46 format=2]

[ext_resource path="res://Main.gd" type="Script" id=1]
[ext_resource path="res://handtrackingdevelopment/HandtrackingDevelopment.gd" type="Script" id=2]
[ext_resource path="res://addons/godot-openxr/scenes/first_person_controller_vr.tscn" type="PackedScene" id=3]
[ext_resource path="res://addons/godot-xr-tools/assets/PlayerBody.tscn" type="PackedScene" id=4]
[ext_resource path="res://addons/godot-xr-tools/functions/Function_Direct_movement.tscn" type="PackedScene" id=5]
[ext_resource path="res://addons/godot-xr-tools/functions/Function_pointer.tscn" type="PackedScene" id=6]
[ext_resource path="res://addons/LorienInfiniteCanvas/InfiniteCanvas.tscn" type="PackedScene" id=7]
[ext_resource path="res://addons/godot-xr-tools/functions/Function_Turn_movement.tscn" type="PackedScene" id=8]
[ext_resource path="res://RPMPlayerAvatar.tscn" type="PackedScene" id=9]
[ext_resource path="res://addons/godot-openxr/scenes/right_hand_nodes.tscn" type="PackedScene" id=10]
[ext_resource path="res://addons/player-networking/NetworkGateway.tscn" type="PackedScene" id=11]
[ext_resource path="res://addons/godot-xr-tools/objects/Object_pickable.gd" type="Script" id=12]
[ext_resource path="res://addons/godot-openxr/scenes/left_hand_nodes.tscn" type="PackedScene" id=13]
[ext_resource path="res://click04.wav" type="AudioStream" id=14]
[ext_resource path="res://addons/godot-xr-tools/objects/Viewport_2D_in_3D.tscn" type="PackedScene" id=15]
[ext_resource path="res://addons/godot-openxr/scenes/XRPose.tscn" type="PackedScene" id=16]
[ext_resource path="res://LorienHandControls.gd" type="Script" id=17]
[ext_resource path="res://handtrackingdevelopment/OpenXRallhandsdata.tscn" type="PackedScene" id=18]

[sub_resource type="PlaneMesh" id=2]
size = Vector2( 20, 20 )

[sub_resource type="OpenSimplexNoise" id=3]

[sub_resource type="NoiseTexture" id=4]
noise = SubResource( 3 )

[sub_resource type="SpatialMaterial" id=5]
albedo_texture = SubResource( 4 )

[sub_resource type="BoxShape" id=6]
extents = Vector3( 10, 0.1, 10 )

[sub_resource type="PhysicsMaterial" id=9]
bounce = 0.51

[sub_resource type="SphereShape" id=7]
margin = 0.01
radius = 0.1

[sub_resource type="SpatialMaterial" id=15]
albedo_color = Color( 0.878431, 0.360784, 0.980392, 1 )
metallic = 0.28
roughness = 0.54

[sub_resource type="SphereMesh" id=8]
material = SubResource( 15 )
radius = 0.1
height = 0.2
radial_segments = 10
rings = 5

[sub_resource type="BoxShape" id=10]
extents = Vector3( 10, 5, 1 )

[sub_resource type="CubeMesh" id=11]
size = Vector3( 20, 10, 2 )

[sub_resource type="OpenSimplexNoise" id=12]

[sub_resource type="NoiseTexture" id=13]
seamless = true
noise = SubResource( 12 )

[sub_resource type="SpatialMaterial" id=14]
albedo_color = Color( 0.980392, 0.843137, 0.858824, 1 )
albedo_texture = SubResource( 13 )
uv1_scale = Vector3( 10, 20, 1 )

[sub_resource type="BoxShape" id=21]
extents = Vector3( 0.05, 0.05, 0.05 )

[sub_resource type="CubeMesh" id=22]
size = Vector3( 0.04, 0.04, 0.04 )

[sub_resource type="SpatialMaterial" id=23]
albedo_color = Color( 0.764706, 0.886275, 0.0627451, 1 )

[sub_resource type="SpatialMaterial" id=24]
albedo_color = Color( 0.411765, 0.0431373, 0.94902, 1 )

[sub_resource type="CylinderShape" id=16]
margin = 0.002
height = 0.06
radius = 0.005

[sub_resource type="CylinderMesh" id=17]
top_radius = 0.008
bottom_radius = 0.005
height = 0.06
radial_segments = 8
rings = 1

[sub_resource type="SpatialMaterial" id=18]
albedo_color = Color( 0.964706, 0.188235, 0.188235, 1 )

[sub_resource type="CubeMesh" id=27]
size = Vector3( 0.015, 0.015, 0.015 )

[sub_resource type="SpatialMaterial" id=28]
albedo_color = Color( 0.976471, 0.890196, 0.0352941, 1 )

[sub_resource type="CylinderShape" id=26]
margin = 0.002
height = 0.06
radius = 0.005

[sub_resource type="CylinderMesh" id=19]
top_radius = 0.008
bottom_radius = 0.005
height = 0.06
radial_segments = 8
rings = 1

[sub_resource type="SpatialMaterial" id=20]
albedo_color = Color( 0.027451, 0.882353, 0, 1 )

[sub_resource type="CubeMesh" id=25]
size = Vector3( 0.1, 0.1, 0.1 )

[node name="Main" type="Spatial"]
script = ExtResource( 1 )
PCstartupprotocol = "none"
QUESTstartupprotocol = "none"

[node name="FPController" parent="." instance=ExtResource( 3 )]

[node name="ARVRCamera" parent="FPController" index="1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.55, 0 )
current = true
far = 1000.0

[node name="LeftHandController" parent="FPController" index="2"]
visible = true

[node name="Function_Direct_movement" parent="FPController/LeftHandController" index="0" instance=ExtResource( 5 )]
max_speed = 5.0
strafe = true

[node name="RightHandController" parent="FPController" index="3"]
visible = true

[node name="Function_pointer" parent="FPController/RightHandController" index="0" instance=ExtResource( 6 )]
show_target = true

[node name="Function_Turn_movement" parent="FPController/RightHandController" index="1" instance=ExtResource( 8 )]
step_turn_angle = 30.0

[node name="PlayerBody" parent="FPController" instance=ExtResource( 4 )]
enabled = false

[node name="Left_hand" parent="FPController" instance=ExtResource( 13 )]

[node name="XRPose" parent="FPController/Left_hand" instance=ExtResource( 16 )]

[node name="Right_hand" parent="FPController" instance=ExtResource( 10 )]

[node name="XRPose" parent="FPController/Right_hand" instance=ExtResource( 16 )]
transform = Transform( 1, 2.09518e-15, 0, 1.77636e-15, 1, 0, 0, 6.51902e-15, 1, 0.5, 1, -0.5 )

[node name="HandtrackingDevelopment" type="Node" parent="FPController"]
script = ExtResource( 2 )

[node name="OpenXRallhandsdata" parent="FPController" instance=ExtResource( 18 )]

[node name="Floor" type="StaticBody" parent="."]

[node name="MeshInstance" type="MeshInstance" parent="Floor"]
mesh = SubResource( 2 )
material/0 = SubResource( 5 )

[node name="CollisionShape" type="CollisionShape" parent="Floor"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.05, 0 )
shape = SubResource( 6 )

[node name="ViewportNetworkGateway" parent="." instance=ExtResource( 15 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.401293, 1.48204, -2.6145 )
viewport_size = Vector2( 550, 400 )
scene = ExtResource( 11 )

[node name="Players" type="Spatial" parent="."]

[node name="RPMPlayerAvatar" parent="Players" instance=ExtResource( 9 )]

[node name="SportBall" type="RigidBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.54476, 1.91887, -4.03967 )
collision_layer = 4097
collision_mask = 4097
physics_material_override = SubResource( 9 )
contacts_reported = 1
contact_monitor = true
can_sleep = false
angular_velocity = Vector3( 5, 0, 0 )
script = ExtResource( 12 )
reset_transform_on_pickup = false

[node name="CollisionShape" type="CollisionShape" parent="SportBall"]
shape = SubResource( 7 )

[node name="MeshInstance" type="MeshInstance" parent="SportBall/CollisionShape"]
mesh = SubResource( 8 )

[node name="bouncesound" type="AudioStreamPlayer3D" parent="SportBall"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.54476, -1.91887, 4.03967 )
stream = ExtResource( 14 )

[node name="Wall" type="StaticBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -5.51366, -10.3501 )

[node name="CollisionShape" type="CollisionShape" parent="Wall"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 8.86959, 0 )
shape = SubResource( 10 )

[node name="MeshInstance" type="MeshInstance" parent="Wall/CollisionShape"]
use_in_baked_light = true
mesh = SubResource( 11 )
material/0 = SubResource( 14 )

[node name="Wall4" type="StaticBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -5.05293, 6.91089 )

[node name="CollisionShape" type="CollisionShape" parent="Wall4"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 8.86959, 0 )
shape = SubResource( 10 )

[node name="MeshInstance" type="MeshInstance" parent="Wall4/CollisionShape"]
use_in_baked_light = true
mesh = SubResource( 11 )
material/0 = SubResource( 14 )

[node name="Wall2" type="StaticBody" parent="."]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -10.9296, -5.49478, -3.38746 )

[node name="CollisionShape" type="CollisionShape" parent="Wall2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 8.86959, 0 )
shape = SubResource( 10 )

[node name="MeshInstance" type="MeshInstance" parent="Wall2/CollisionShape"]
use_in_baked_light = true
mesh = SubResource( 11 )
material/0 = SubResource( 14 )

[node name="Wall3" type="StaticBody" parent="."]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 9.63735, -4.36763, -3.38746 )

[node name="CollisionShape" type="CollisionShape" parent="Wall3"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 8.86959, 0 )
shape = SubResource( 10 )

[node name="MeshInstance" type="MeshInstance" parent="Wall3/CollisionShape"]
visible = false
use_in_baked_light = true
mesh = SubResource( 11 )
material/0 = SubResource( 14 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.925065, -0.301336, 0.231195, 0.0305464, 0.66577, 0.745531, -0.378578, -0.682603, 0.625085, 3.30504, 8.65411, 0 )
light_bake_mode = 2
shadow_enabled = true

[node name="BakedLightmap" type="BakedLightmap" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.3723, -1.68565 )
visible = false
extents = Vector3( 12, 10, 13 )

[node name="LorienHandControls" type="Spatial" parent="."]
script = ExtResource( 17 )

[node name="ViewportLorienCanvas" parent="LorienHandControls" instance=ExtResource( 15 )]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, -0.205814, 0.758805, -0.772114 )
screen_size = Vector2( 1.5, 1 )
viewport_size = Vector2( 600, 400 )
scene = ExtResource( 7 )
collision_layer = 1024

[node name="AreaResetpos" type="Area" parent="LorienHandControls/ViewportLorienCanvas"]
collision_layer = 0
collision_mask = 1024

[node name="CollisionShape" type="CollisionShape" parent="LorienHandControls/ViewportLorienCanvas/AreaResetpos"]
shape = SubResource( 21 )

[node name="MeshInstance" type="MeshInstance" parent="LorienHandControls/ViewportLorienCanvas/AreaResetpos/CollisionShape"]
mesh = SubResource( 22 )
material/0 = SubResource( 23 )

[node name="AreaZoom" type="Area" parent="LorienHandControls/ViewportLorienCanvas"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.175568, 0.182592, -1.19209e-07 )
collision_layer = 0
collision_mask = 1024

[node name="CollisionShape" type="CollisionShape" parent="LorienHandControls/ViewportLorienCanvas/AreaZoom"]
shape = SubResource( 21 )

[node name="MeshInstance" type="MeshInstance" parent="LorienHandControls/ViewportLorienCanvas/AreaZoom/CollisionShape"]
mesh = SubResource( 22 )
material/0 = SubResource( 24 )

[node name="LeftIndexFinger" type="KinematicBody" parent="LorienHandControls"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.394745, 1.03168, -0.551758 )
collision_layer = 1025
collision_mask = 0

[node name="CollisionShape" type="CollisionShape" parent="LorienHandControls/LeftIndexFinger"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0.03 )
shape = SubResource( 16 )

[node name="MeshInstance" type="MeshInstance" parent="LorienHandControls/LeftIndexFinger/CollisionShape"]
mesh = SubResource( 17 )
material/0 = SubResource( 18 )

[node name="ActiveMarker" type="MeshInstance" parent="LorienHandControls/LeftIndexFinger"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0.06 )
visible = false
mesh = SubResource( 27 )
skeleton = NodePath("../CollisionShape/MeshInstance")
material/0 = SubResource( 28 )

[node name="RightIndexFinger" type="KinematicBody" parent="LorienHandControls"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.925201, -0.671417 )
collision_layer = 1025
collision_mask = 0

[node name="CollisionShape" type="CollisionShape" parent="LorienHandControls/RightIndexFinger"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0.03 )
shape = SubResource( 26 )

[node name="MeshInstance" type="MeshInstance" parent="LorienHandControls/RightIndexFinger/CollisionShape"]
mesh = SubResource( 19 )
material/0 = SubResource( 20 )

[node name="ActiveMarker" type="MeshInstance" parent="LorienHandControls/RightIndexFinger"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0.06 )
visible = false
mesh = SubResource( 27 )
skeleton = NodePath("../CollisionShape/MeshInstance")
material/0 = SubResource( 28 )

[node name="RigidBody" type="RigidBody" parent="LorienHandControls"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.287, 1.26401, -1.04355 )
collision_layer = 1024
collision_mask = 1025

[node name="CollisionShape" type="CollisionShape" parent="LorienHandControls/RigidBody"]
shape = SubResource( 21 )

[node name="MeshInstance" type="MeshInstance" parent="LorienHandControls/RigidBody/CollisionShape"]
mesh = SubResource( 25 )

[connection signal="body_entered" from="LorienHandControls/ViewportLorienCanvas/AreaResetpos" to="LorienHandControls" method="_on_AreaResetpos_body_entered"]
[connection signal="body_entered" from="LorienHandControls/ViewportLorienCanvas/AreaZoom" to="LorienHandControls" method="_on_AreaZoom_body_entered"]

[editable path="FPController"]
